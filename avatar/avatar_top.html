<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å—è¬›ç”Ÿé€²æ—ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </title>
  <link rel="icon" href="#">
  <!-- OGP Tag data-->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@gawgaw_2020">
  <meta name="twitter:title" content="å—è¬›ç”Ÿé€²æ—ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ">
  <meta name="twitter:description" content="å—è¬›ç”Ÿé€²æ—ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ">
  <meta name="twitter:image" content="#">
  <!-- stylesheet -->
  <link rel="stylesheet" href="/js_ogawa_08/assets/css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <!-- fontawesome -->
  <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script src="nncomment.js"></script>
  <script>
    $(function() {

      db.collection("comments").onSnapshot(snapshot => {
        snapshot.docChanges().forEach(change => {
          
          // è¿½åŠ ã•ã‚ŒãŸã‚‰ç”»é¢ã«è¡¨ç¤º
          if (change.type === 'added') {

            const d = change.doc.data();
            $('#field').comment(d.message);

          }
        });
      });


      // ã‚³ãƒ¡ãƒ³ãƒˆé€ä¿¡æ™‚ã®å‡¦ç†
      $('#comment').on('submit', function() {
        // ç©ºæ–‡å­—ã ã£ãŸã‚‰å‡¦ç†ã‚’æ­¢ã‚ã‚‹
        
        var message = $('#message').val();
        $('#message').val('');

        
        if (message.includes('ãƒ‡ãƒ¢') || message.includes('ã§ã‚‚')) {
          const letsCode = [
            'ã‚¢ã‚¤ã‚³ãƒ³wwwww',
            'ã‚¢ã‚¤ã‚³ãƒ³ã¯ãƒ©ãƒ³ãƒ€ãƒ ',
            'ã“ã®ã‚³ãƒ¡ãƒ³ãƒˆã¯ã‚¬ãƒ¤ã«æœ€é©!!!!',
            'ã‚ã‚ã‚ã‚ã‚ã‚ã‚ã‚ã‚ã‚ã‚ã‚ã‚ã‚ã‚',
            'aaaaaaaa',
            '888888888',
            '888',
            'www',
            'ãƒ™ã‚¸ãƒ¼ã‚¿',
            'äººã‚’æ€’ã‚‰ã›ã‚‹æ–¹æ³•',
            'çœ ãŸã„!!',
            'ğŸ˜†',
            'ã£ã¤ã£ã¤ã£ã¤ã£ã¤wwww',
            'ğŸ’£',
            'ã™ã”âœ¨',
            'ğŸ˜',
            'çœ ãŸã„!!',
            'ãŠãŠãŠãŠãŠ',
            'ã‚³ãƒ¡ãƒ³ãƒˆãŒæµã‚Œã¦ã‚‹~~~',
            'ã©ã“ã‹ã§ã¿ãŸã“ã¨ã‚ã‚‹!!'
          ];
          
          for (let i = 0; i < letsCode.length; i++) {
            setTimeout(() => {
              db.collection("comments").add({
                message: letsCode[i]
              })
              .then(function(docRef) {
                console.log("Document written with ID: ", docRef.id);
              })
              .catch(function(error) {
                console.error("Error adding document: ", error);
              });
              
            }, Math.floor(Math.random() * (60000 - 500 + 1) + 500));
          }
        }
        


        db.collection("comments").add({
          message: message,
        })
        .then(function(docRef) {
            console.log("Document written with ID: ", docRef.id);
        })
        .catch(function(error) {
            console.error("Error adding document: ", error);
        });

        return false;
      });
    });


  </script>
</head>
<body style="overflow: hidden;">
<main id="avatar_screen">
  
  <div id="field" class="field nnc-screen">
    
  </div>
  <div class="control-panel">

    <p class="control-panel__heading">ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ‘ãƒãƒ«</p>
    <div class="control-panel__status">
      <p>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´</p>
      <button id="working_btn" class="btn btn--transparent btn--link_transparent">å–ã‚Šçµ„ã¿ä¸­...</button>
      <button id="ok_btn" class="btn btn--orange btn--link_orange">ç†è§£ã—ãŸ</button>
      <button id="help_btn" class="btn btn--red btn--link_red">ãƒ˜ãƒ«ãƒ—!!</button>
      <button id="another_btn" class="btn btn--green btn--link_green">è‡ªç¿’ä¸­</button>
    </div>
    <form id="comment" action="#">
      <div class="control-panel__comment text-box">
        <label class="text-box__label" for="code">ã‚³ãƒ¡ãƒ³ãƒˆ</label>
        <input id="message" class="text-box__input" type="text" name="code" autocomplete="off">
      </div>
    </form>
    <div id="logout" class="btn btn--small btn--transparent btn--link_transparent card__link" href="/js_ogawa_08/avatar/avatar_logout.html">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</div>
    <p>â€»ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¦ã‚‚ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™ã€‚</p>
  </div>
</main>


<?php include(dirname(__FILE__).'/../assets/_inc/_footer.html'); ?>



<?php include(dirname(__FILE__).'/../assets/_inc/_common-script.html'); ?>


<script src="/js_ogawa_08/assets/js/avatarTopMain.js"></script>
</body>
</html>